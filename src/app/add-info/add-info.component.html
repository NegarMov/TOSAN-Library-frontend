<body>
    <div class="inner">
        <main role="main">
            <div class="row" style="margin: 3rem">
                <div class="col-4">
                    <div class="list-group" id="list-tab" role="tablist">
                        <a class="list-group-item list-group-item-action active" data-toggle="list" href="#list-book">Add Book</a>
                        <a class="list-group-item list-group-item-action" data-toggle="list" href="#list-author">Add Author</a>
                        <a class="list-group-item list-group-item-action" data-toggle="list" href="#list-publisher">Add Publisher</a>
                    </div>
                </div>
                <div class="col-8">
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="list-book">
                            <h3>Add a new book</h3>
                            <hr>
                            <form>
                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Title</span>
                                    </div>
                                    <input type="text" class="form-control" name="title" placeholder="Book Title" [(ngModel)]="newBook.title" required>
                                </div>
                                <small *ngIf="!validBookTitle" class="input-error">*book title is required</small>

                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Author</span>
                                    </div>
                                    <select class="form-control select" name="author" [(ngModel)]="newBook.author" required>
                                        <option *ngFor="let author of getAuthors()">{{author.name + " " + author.surname}}</option>
                                    </select>
                                </div>
                                <small *ngIf="!validBookAuthor" class="input-error">*book author is required</small>

                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Publisher</span>
                                    </div>
                                    <select class="form-control select" name="publisher" data-live-search="true" [(ngModel)]="newBook.publisher" required>
                                        <option *ngFor="let publisher of getPublishers()">{{publisher.name}}</option>
                                    </select>
                                </div>
                                <small *ngIf="!validBookPublisher" class="input-error">*book publisher is required</small>

                                <app-input-tag></app-input-tag>

                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Summary</span>
                                    </div>
                                    <textarea class="form-control" name="summary" rows="3" placeholder="Book Summary" [(ngModel)]="newBook.summary"></textarea>
                                </div>

                                <div class="form-group">
                                    <div class="input-group-prepend" style="display: inline-block;">
                                        <span class="input-group-text">Cover</span>
                                    </div>
                                    <input type="file" class="form-control-file" style="display: inline-block; width: fit-content; margin-left: 20px;" (change)="onFileChange($event)">
                                </div>

                                <div class="form-group">
                                    <input type="submit" value="Add Book" class="btn float-right add-btn" (click)="onaddBook()">
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane fade show" id="list-author">
                            <h3>Add a new Author</h3>
                            <hr>
                            <form>
                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Name</span>
                                    </div>
                                    <input type="text" class="form-control" name="name" placeholder="Author Name" [(ngModel)]="newAuthor.name" required>
                                </div>
                                <small *ngIf="!validAuthorName" class="input-error">*author name is required</small>

                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Surname</span>
                                    </div>
                                    <input type="text" class="form-control" name="surname" placeholder="Author Surname" [(ngModel)]="newAuthor.surname" required>
                                </div>
                                <small *ngIf="!validAuthorSurname" class="input-error">*author last name is required</small>

                                <div class="form-group">
                                    <input type="submit" value="Add Author" class="btn float-right add-btn" (click)="onaddAuthor()">
                                </div>
                            </form>
                        </div>
                        <div class="tab-pane fade show" id="list-publisher">
                            <h3>Add a new Publisher</h3>
                            <hr>
                            <form>
                                <div class="input-group form-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text">Name</span>
                                    </div>
                                    <input type="text" class="form-control" name="name" placeholder="Publisher Name" [(ngModel)]="newPublisher.name" required>
                                </div>
                                <small *ngIf="!validPublisherName" class="input-error">*publisher name is required</small>

                                <div class="form-group">
                                    <input type="submit" value="Add Publisher" class="btn float-right add-btn" (click)="onaddPublisher()">
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="header-box">
                    <h1 style="display: inline-block;">Books</h1>
                    <form class="form-inline mt-2 mt-md-0 float-right" style="display: inline-block;">
                        <input class="form-control mr-sm-2" type="text" placeholder="Search Books" [(ngModel)]="bookSearchedToken" [ngModelOptions]="{standalone: true}">
                        <button class="btn btn-yellow my-2 my-sm-0" type="submit" (click)="onsearchBook()">Search</button>
                    </form>
                </div>
                <div class="list-group list-group-flush">
                    <div *ngFor="let b of books; let i = index">
                        <app-book-item *ngIf="bookSearchRes[i]" [item]="b" (deleted)="deleteBook($event)"></app-book-item>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="header-box">
                    <h1 style="display: inline-block;">Authors</h1>
                    <form class="form-inline mt-2 mt-md-0 float-right" style="display: inline-block;">
                        <input class="form-control mr-sm-2" type="text" placeholder="Search Authors" [(ngModel)]="authorSearchedToken" [ngModelOptions]="{standalone: true}">
                        <button class="btn btn-yellow my-2 my-sm-0" type="submit" (click)="onsearchAuthor()">Search</button>
                    </form>
                </div>
                <div class="list-group list-group-flush">
                    <div *ngFor="let a of authors; let i = index">
                        <app-author-item *ngIf="authorSearchRes[i]" [item]="a" (deleted)="deleteAuthor($event)"></app-author-item>
                    </div>
                </div>
            </div>

            <div class="container">
                <div class="header-box">
                    <h1 style="display: inline-block;">Publishers</h1>
                    <form class="form-inline mt-2 mt-md-0 float-right" style="display: inline-block;">
                        <input class="form-control mr-sm-2" type="text" placeholder="Search Publishers" [(ngModel)]="publisherSearchedToken" [ngModelOptions]="{standalone: true}">
                        <button class="btn btn-yellow my-2 my-sm-0" type="submit" (click)="onsearchPublisher()">Search</button>
                    </form>
                </div>
                <div class="list-group list-group-flush">
                    <div *ngFor="let p of publishers; let i = index">
                        <app-publisher-item *ngIf="publisherSearchRes[i]" [item]="p" (deleted)="deletePublisher($event)"></app-publisher-item>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>